<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />
</head>
<body>
<div class="container-fluid">
    <div class="sticky-top border-bottom border-secondary">
        <ul class="nav nav-pills" id="navTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link" id="style-tab" data-toggle="tab" href="#style" role="tab" aria-controls="style" aria-selected="false">构建</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="artifacts-tab" data-toggle="tab" href="#artifactab" role="tab" aria-controls="artifactab" aria-selected="false">神器</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" id="reccs-tab" data-toggle="tab" href="#reccs" role="tab" aria-controls="reccs" aria-selected="true">圣物</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="sugg-tab" data-toggle="tab" href="#sugg" role="tab" aria-controls="sugg" aria-selected="true">结果</a>
            </li>
            <li class="nav-item d-none">
                <a class="nav-link" id="dal-tab" data-toggle="tab" href="#dal" role="tab" aria-controls="dal" aria-selected="true">DAL Mode</a>
            </li>
        </ul>
        <h1 class="h4">TT2神器优化器 <span class="badge badge-secondary">2.6.x</span></h1>
    </div>
   <div class="tab-content" id="tabContent">
        <div class="tab-pane fade" id="style" role="tabpanel" aria-labelledby="style-tab">
            <p>此工具旨在帮助您根据你的游戏风格最大化圣物所带来的提升。它应该能在帮助您在提高神器伤害的同时确定优先神器升级顺序。如果您发现任何错误或者建议, 请随时通过reddit与我联系，/u/tsukinoooo</p>
            <p>第一次访问您需要根据你的游戏风格在当前标签内进行选择，然后去神器标签填写您当前的神器等级，最后到圣物标签填写您需要花费的圣物数量来计算升级方案</p>
            <p>如果您想忽略某个神器，请取消勾选。如果某个神器被勾选且等级为0，本工具将尽可能的推荐您获取新神器而不是升级已有神器</p>
            <p>现在请您根据您的游戏风格回答以下问题</p>
            <form>
                <div class="form-row mb-4">
                    <div class="form-group col-12 col-md-6 col-lg-4">
                        <label for="build">主要伤害来源</label>
                        <select class="form-control" id="build" onchange="adjustWeights();">
                            <option value="hero">英雄</option>
                            <option value="tap">点击</option>
                            <option value="pet">宠物</option>
                            <option value="hs">天堂</option>
                            <option value="sc">影分身</option>
                            <option value="cs">大船</option>
                        </select>
                    </div>
                    <div class="form-group col-12 col-md-6 col-lg-4">
                        <label for="hero">主要英雄</label>
                        <select class="form-control" id="hero" onchange="adjustWeights();">
                            <option value="maya">守望者玛雅·穆塔</option>
                            <option value="zato">盲棍大师扎托</option>
                            <option value="sophia">剑之勇士索菲亚</option>
                            <option value="lance">钴钢骑士兰斯</option>
                            <option value="pingo">托利族的平哥</option>
                            <option value="rosabella">弓箭手罗莎贝拉·邦妮</option>
                            <option value="gulbrand">毁灭者布尔兰德</option>
                            <option value="davey">戴维·加农船长</option>
                            <option value="rhys">伊维塔教团法师里斯</option>
                            <option value="kronus">审判使者克洛诺斯</option>
                            <option value="cosette">佩剑家族之宝柯赛特</option>
                            <option value="kiki">龙骑士琪琪</option>
                            <option value="maddie">影子盗贼玛迪</option>
                            <option value="beany">豆芽一世</option>
                            <option value="sawyer">荒野枪手索耶</option>
                            <option value="ursa">小熊乌尔沙</option>
                            <option value="saje">花园守护者萨杰</option>
                            <option value="wally">魔法师瓦利瓦</option>
                            <option value="jayce">冷血屠夫杰斯</option>
                            <option value="pharaoh">大法老</option>
                            <option value="boomoh">布莫医生</option>
                            <option value="dex">Dex-1000</option>
                            <option value="cass">贵夫人卡斯</option>
                            <option value="lala">快箭手拉拉</option>
                            <option value="aya">闪电紫罗兰阿雅</option>
                            <option value="lucy">暗夜术士露西女士</option>
                            <option value="jazz">爵士摇滚乐手</option>
                            <option value="maple">秋季卫士阿枫</option>
                            <option value="kin">蓬蓬兽阿金</option>
                            <option value="titania">仙子公主泰坦尼娅</option>
                            <option value="miki">优雅舞者米琪</option>
                            <option value="mina">光之女祭司米娜</option>
                            <option value="yzafa">恐怖大盗伊扎法</option>
                            <option value="zolom">太空猎人佐龙·布拉斯特</option>
                            <option value="finn">怪异卫兵费恩</option>
                            <option value="nohni">矛灵诺尼</option>
                            <option value="damon">黑暗达蒙</option>
                        </select>
                    </div>
                    <div class="form-group col-12 col-md-6 col-lg-4">
                        <label for="gold">主要金币来源</label>
                        <select class="form-control" id="gold" onchange="adjustWeights();">
                            <option value="all">全部</option>
                            <option value="boss">头目</option>
                            <option value="coc">宝箱兽</option>
                            <option value="fairy">仙女</option>
                            <option value="sov">巨人</option>
                        </select>
                    </div>
                    <div class="form-group col-12 col-md-6 col-lg-4">
                        <label for="active">在线或离线</label>
                        <select class="form-control" id="active" onchange="adjustWeights();">
                            <option value="online">在线</option>
                            <option value="offline">离线</option>
                        </select>
                    </div>
                    <div class="form-check col-12 col-md-6 col-lg-4 mb-4">
                        <div class="mb-2">选择主题</div>
                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                            <label id="btnlamb" class="btn btn-info active">
                                <input type="radio" name="theme" id="lamb" autocomplete="off" checked onchange="toggleDark();"> 白
                            </label>
                            <label id="btnwolf" class="btn btn-dark">
                                <input type="radio" name="theme" id="wolf" autocomplete="off" onchange="toggleDark();"> 黑
                            </label>
                        </div>
                    </div>
                    <div class="form-check col-12 col-md-6 col-lg-4 mb-4">
                        <div class="mb-2">是否提高溅射伤害</div>
                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                            <label id="btndry" class="btn btn-dark">
                                <input type="radio" name="splash" id="dry" autocomplete="off" checked onchange="toggleSplash();"> 否
                            </label>
                            <label id="btnwet" class="btn btn-info">
                                <input type="radio" name="splash" id="wet" autocomplete="off" onchange="toggleSplash();"> 是
                            </label>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="tab-pane fade" id="artifactab" role="tabpanel" aria-labelledby="artifacts-tab">
            <p>填写您的神器当前级别。请不要勾选您希望忽略的神器。如果你还没有某个神器，请勾选并设置他的级别为0，本工具将会推荐您保留圣物或者挖掘新的神器</p>
			<p>注意:如果没有显示神器列表,请到构建根据你的情况选择4个选项后再回到此页面.</p>
            <p>神器伤害: <span id="adsanity">0%</span></p>
            <button type="button" class="btn btn-primary mb-3" onclick="checkAll();">全选</button>
            <button type="button" class="btn btn-secondary mb-3" onclick="dalView(1);">截图模式</button>
            <div class="col-12 col-md-8 col-lg-6">
                <div class="row mb-2 ml-2">
                    图例:
                    <span class="badge badge-pill badge-info ml-2">全部提升</span>
                    <span class="badge badge-pill badge-success ml-2">主要伤害提升</span>
                    <span class="badge badge-pill badge-secondary ml-2">次要伤害提升</span>
                    <span class="badge badge-pill badge-warning ml-2">金币提升</span>
                    <span class="badge badge-pill badge-danger ml-2">神器伤害提升</span>
                </div>
                <table class="table table-striped table-sm">
                    <thead>
                    <tr>
                        <th scope="col"></th>
                        <th scope="col">神器</th>
                        <th scope="col">等级</th>
                        <th scope="col">收益</th>
                        <th scope="col">说明</th>
                    </tr>
                    </thead>
                    <tbody id="artifacts">
                    </tbody>
                </table>
            </div>
        </div>
        <div class="tab-pane fade" id="dal" role="tabpanel" aria-labelledby="dal-tab">
            <div class="row mb-4" id="daltifacts">
            </div>
            <button type="button" class="btn btn-secondary mb-3" onclick="dalView(0);">退出截图模式</button>
        </div>
        <div class="tab-pane fade show active" id="reccs" role="tabpanel" aria-labelledby="reccs-tab">
            <p>输入想花费的圣物数量</p>
            <form class="mb-4">
                <div class="input-group col-12 col-md-6 col-xl-4">
                    <input type="tel" id="relics" class="form-control" placeholder="0" aria-label="whole numbers for relics">
                    <span class="input-group-text px-1 rounded-0">.</span>
                    <input type="tel" id="relics_decimal" class="form-control" placeholder="00" aria-label="decimals for relics">
                    <select id="relic_factor">
                        <option value="_"> </option>
                        <option value="K">K</option>
                        <option value="M">M</option>
                        <option value="B">B</option>
                        <option value="T">T</option>
                        <option value="e13">e13</option>
                        <option value="e14">e14</option>
                        <option value="e15">e15/aa</option>
                        <option value="e16">e16</option>
                        <option value="e17">e17</option>
                        <option value="e18">e18/ab</option>
                        <option value="e19">e19</option>
                        <option value="e20">e20</option>
                        <option value="e21">e21/ac</option>
                    </select>
                </div>
                <label class="ml-4"><small>（整数在左，小数在右）</small></label>
            </form>
            <form class="mb-4">
                <div class="input-group col-12 col-md-6 col-xl-4">
                    <span class="input-group-text">购买</span>
                    <select id="ocd">
                        <option value="1">x1</option>
                        <option value="10">x10</option>
                        <option value="100">x100</option>
                        <option value="1000">x1000</option>
                    </select>
                </div>
            </form>
            <p><small><em>注: 如果这是你第一次访问，则需要前往第一个标签进行初始化</em></small></p>
            <button type="button" class="btn btn-primary mb-4" onclick="generateUpgrades()">生成升级方案</button>
            <button type="button" class="btn btn-secondary mb-4" onclick="exportData()">导出</button>
            <button type="button" class="btn btn-secondary mb-4" onclick="startImport()">导入</button>
            <div id="export_wrap">
                <div class="mb-2">将以下导出的数据复制以在其他地方导入</div>
                <code id="export"></code>
            </div>
            <div id="import_wrap">
                <div class="mb-2">在此粘贴其他地方导出的数据。提示：这不能被撤销</div>
                <div class="form-group col-12">
                    <textarea class="form-control mb-2" id="import" rows="10"></textarea>
                    <button type="button" class="btn btn-info mb-4" onclick="importData()">开始导入</button>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="sugg" role="tabpanel" aria-labelledby="sugg-tab">
            <p>如果您完成了所有升级，请点击完成按钮更新神器状态并清除结果</p>
            <p><small><em>提示：当您第一次进行大范围升级时（例如，e13 => e15）它将需要花费更长时间，随着您的神器每一次执行而缩小提升幅度，工具也会越来越快。作者正在研究如何提高它的效率</em></small></p>
            <div class="row mb-2 ml-2">
                图例:
                <span class="badge badge-pill badge-info ml-2">全部提升</span>
                <span class="badge badge-pill badge-success ml-2">主要伤害提升</span>
                <span class="badge badge-pill badge-secondary ml-2">次要伤害提升</span>
                <span class="badge badge-pill badge-warning ml-2">金币提升</span>
                <span class="badge badge-pill badge-danger ml-2">神器伤害提升</span>
            </div>
            <p id="new_artifact" class="ml-2"></p>
            <div class="col-12 col-md-8 col-lg-6 mb-4">
                <div class="progress mb-3" id="progressBar">
                    <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%" id="progress"></div>
                </div>
                <div id="pudding" class="mb-4"></div>
                <div id="suggestions"></div>
                <div id="accept"></div>
            </div>
        </div>
    </div>
</div>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script type="text/javascript" async="" src="./js/analytics.js"></script>
<script async="" src="./js/js"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-77025911-2');
</script>

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="js/jquery-3.2.1.slim.min.js"></script>
<script src="js/bootstrap.bundle.min.js"></script>
<script src="js/decimal.min.js"></script>
<script src="js/data.js"></script>
<script src="js/weights.js"></script>
<script src="js/app.js"></script>
</body>
</html>